<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">
      KarmaJob
    </ion-title>
    <ion-buttons slot="end">
        <ion-back-button text="" icon="settings" defaultHref="settings"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
    <!-- User not authentified -->
    <ion-card *ngIf="!data.currentUser">
        <ion-card-header>
            <ion-card-subtitle>KarmaJob</ion-card-subtitle>
            <ion-card-title>Le fonctionnement</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <p>L'application permet aux utilisateurs de s'inscrire à des job, ils gagneront des "KarmaPoints".</p><br />
            <p>L'application permet également aux utilisateurs de créer des jobs en leur donnant des "KarmaPoints", tout le long du job, le mandant et le mandataire auront des interactions à gérer avec le job, afin de faire évoluer le status du job.</p><br />
            <p>Les <b>KarmaPoints</b> représentent une dette, lorsqu'un job à été accompli et validé, le mandant aura une dette envers le mandataire.</p><br />
            <p><ion-button href="/login/">Se connecter</ion-button></p>
        </ion-card-content>
    </ion-card>
    <!-- User authentified -->
    <ion-list *ngIf="data.currentUser">
    <ion-chip (click)="showProfile(data.currentUser)">
        <ion-icon name="contact"></ion-icon>
        <ion-label>{{ data.user.first_name }} {{ data.user.last_name }}</ion-label>
    </ion-chip>
        <ion-item (click)="showMyJobs(data.currentUser)">
            <ion-label>Mes jobs</ion-label>
        </ion-item>
        <ion-item (click)="showTheirJobs(data.currentUser)">
            <ion-label>Jobs des autres</ion-label>
        </ion-item>
        <ion-item (click)="showFreeJobs(data.currentUser)">
            <ion-label>Jobs disponibles</ion-label>
        </ion-item>
        <ion-item (click)="showUsers(data.currentUser)">
            <ion-label>Utilisateurs</ion-label>
        </ion-item>
        <ion-item (click)="showRates(data.currentUser)">
            <ion-label>Mes notes</ion-label>
        </ion-item>
    </ion-list>
</ion-content>

<ion-footer>
    <ion-toolbar>
        Alexandre Junod, 2019 - CPNV<br />
        Last update: {{ data.lastUpdateTime | date: 'dd/MM/yyyy HH:mm:ss' }}, success: {{ data.lastUpdateSuccess }}<br />
    </ion-toolbar>
</ion-footer>
